function blobAjax(a){return new Promise((d,c)=>{let b=new XMLHttpRequest;b.open("GET",a,!0),b.responseType='blob',b.send(),b.onreadystatechange=function(){b.readyState===4&&(b.status>=200&&b.status<300?d(b.response):c("加载失败"))},b.onerror=function(){c("其它错误")}})}function getSetAllResource(a){a.forEach(a=>{blobAjax(a.url).then(b=>a.callBack(b))})}function setBgvidCallBack(b){let a=document.getElementById("liveBgBox"),c=document.getElementsByClassName("profile")[0];c&&a&&(a.style.display="block",window.document.body.setAttribute('style',"background:url("+URL.createObjectURL(b)+") no-repeat  center/cover fixed")),a.setAttribute("src",URL.createObjectURL(b))}window.screen.width<=640&&window.location.pathname==="/"&&(document.querySelector(".profile_inner").style.opacity=1,document.body.style.background=' url("https://picgo-jqf.oss-cn-beijing.aliyuncs.com/img/202204091921087.png") no-repeat  center/cover fixed'),window.screen.width>640&&getSetAllResource([{url:'https://jqf.oss-cn-beijing.aliyuncs.com/videos/7kgkoysahpw31.mp4',callBack:setBgvidCallBack}]),document.getElementsByClassName("profile")[0]&&(document.documentElement.style.overflowY='hidden');let articleList=document.getElementsByClassName("post-entry"),articleFooterList=document.getElementsByClassName("entry-footer");if(articleFooterList[0]&&(setLatestAndPinnedArticles("newestArticle","fa-arrow-circle-up"),Array.from(articleList).forEach((a,b)=>{a.classList.add(`animate__delay-${b*2}00ms`)})),document.getElementsByClassName("post-single")[0]){document.querySelectorAll(".imgAlt").forEach(a=>{a.innerHTML=a.previousElementSibling.children[0].attributes.alt.value});const a=document.querySelector("#pinToc");a&&a.addEventListener("click",b=>{let a=b.target.parentElement.parentElement.parentElement;a.classList.toggle('animate__fadeInRight'),a.classList.toggle('pinned')}),printTags("post-tags")}document.querySelector(".terms-tags")&&printTags("terms-tags");function printTags(b){let c=document.getElementsByClassName(b)[0],a=["#FC427B","#3B3B98","#F97F51","#55E6C1","#1dd1a1","#00a8ff","#fbc531","#4cd137","#487eb0","#e84118","#353b48"];Array.from(c.children).forEach(b=>{b.querySelector("a").style.background=a[Math.round(Math.random()*(a.length-1))]})}function setLatestAndPinnedArticles(g,h){let e=document.getElementsByClassName("entry-footer"),c=new Date('2000').getTime(),f=0,a='',b=new Date,d;Array.from(e).forEach((e,h)=>{if(a=new Date(e.children[0].getAttribute("title")),d=a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&b.getDate()-a.getDate()<=1,d){let a=e.parentElement.querySelector(".fab");a.style.display="inline-block",a.innerText="New",a.setAttribute("title","Newest"),g.split(" ").forEach(b=>a.classList.add(b))}a.getTime()>c&&(c=a.getTime(),f=h)}),Array.from(e).forEach((b,d)=>{if(a=new Date(b.children[0].getAttribute("title")),a.getTime()<c&&d<f){let a=b.parentElement.querySelector(".fab");a.style.display="inline-block",a.setAttribute("title","Pinned"),h.split(" ").forEach(b=>a.classList.add(b))}})}